<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Home Control</title>
    <style>
        #home {
            width: 600px;
            height: 400px;
            border: 1px solid #000;
            position: relative;
            background-color: #f0f0f0;
        }
        .room {
            position: absolute;
            border: 1px solid #ccc;
            background-color: #e0e0e0;
        }
        #living-room { top: 10px; left: 10px; width: 280px; height: 180px; }
        #kitchen { top: 10px; left: 300px; width: 280px; height: 180px; }
        #bedroom { top: 200px; left: 10px; width: 280px; height: 180px; }
        #bathroom { top: 200px; left: 300px; width: 280px; height: 180px; }
        .device {
            position: absolute;
            cursor: pointer;
        }
        .device.on {
            filter: brightness(1.5);
        }
    </style>
</head>
<body>
    <h1>Smart Home Control</h1>
    <div>
        <select id="device_selector">
            <option value="lamp">Lamp</option>
            <option value="pc">PC</option>
            <!-- Add more devices as needed -->
        </select>
        <button onclick="addDevice()">Add Device</button>
    </div>
    <div id="home">
        <div id="living-room" class="room">Living Room</div>
        <div id="kitchen" class="room">Kitchen</div>
        <div id="bedroom" class="room">Bedroom</div>
        <div id="bathroom" class="room">Bathroom</div>
    </div>

    <script>
        function addDevice() {
            var deviceType = document.getElementById('device_selector').value;
            var device = document.createElement('div');
            device.className = 'device';
            device.textContent = deviceType;
            device.style.left = '50px';
            device.style.top = '50px';
            device.onclick = function() {
                toggleDevice(device);
            };
            document.getElementById('home').appendChild(device);
            makeDraggable(device);
        }

        function toggleDevice(device) {
            device.classList.toggle('on');
        }

        function makeDraggable(element) {
            element.onmousedown = function(event) {
                let shiftX = event.clientX - element.getBoundingClientRect().left;
                let shiftY = event.clientY - element.getBoundingClientRect().top;

                function moveAt(pageX, pageY) {
                    element.style.left = pageX - shiftX + 'px';
                    element.style.top = pageY - shiftY + 'px';
                }

                function onMouseMove(event) {
                    moveAt(event.pageX, event.pageY);
                }

                document.addEventListener('mousemove', onMouseMove);

                element.onmouseup = function() {
                    document.removeEventListener('mousemove', onMouseMove);
                    element.onmouseup = null;
                };
            };

            element.ondragstart = function() {
                return false;
            };
        }
    </script>
</body>
</html>
